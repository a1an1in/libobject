To make producer reentrant

Description:
there still have some issue, will modify later, since i
haven't found good solution.

Major Changes:
1.rename concurrent_get_default_instance
2.add Fshell::init()