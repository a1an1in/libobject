refact stub.

Description:
update.

Major Changes:
1. extract test code to tests dir.
2. extract common code to stub.c
3. del Strub.c, we don't implement stub with class.


